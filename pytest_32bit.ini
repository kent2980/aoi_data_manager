# 32bit Windows環境用のpytest設定
[tool.pytest.ini_options]
testpaths = ["tests"]
python_files = "test_*.py"
python_classes = "Test*"
python_functions = "test_*"
addopts = [
    "-v",
    "--tb=short",
    "--maxfail=3",
    "--durations=10",
    "-x",  # 最初の失敗で停止
]

# 32bit環境用のマーカー
markers = [
    "slow: 重い処理のテスト",
    "integration: 統合テスト",
    "unit: 単体テスト", 
    "bit32: 32bit環境専用テスト",
    "memory_intensive: メモリ集約的なテスト",
    "lightweight: 軽量テスト",
]

# フィルタリング設定
filterwarnings = [
    "ignore::DeprecationWarning",
    "ignore::PendingDeprecationWarning",
]

# 32bit環境では軽量テストのみ実行
# pytest -m "lightweight or (unit and not memory_intensive)"